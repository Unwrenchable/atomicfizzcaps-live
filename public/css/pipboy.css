/* PERFECT PIP-BOY MAP â€“ Bright Cyan/Green High-Contrast (Like Your Screenshot) */
#mapWrap {
  position: relative;
  height: 56vh; /* Matches your screenshot taller map */
  overflow: hidden;
  border-radius: 16px;
  border: 2px solid rgba(0,255,65,0.1);
  box-shadow: inset 0 0 80px #003300, 0 0 80px rgba(0,255,65,0.5);
  background: #000;
  animation: gentle-glow 10s ease-in-out infinite alternate;
}

#map {
  width: 100%;
  height: 100%;
  background: #000 !important; /* Dark base */
}

/* Bright Cyan-Tinted High-Contrast Map Filter (Roads pink/red, areas light blue/green) */
.leaflet-tile-pane {
  filter: 
    brightness(1.4)
    contrast(2.5)
    saturate(2.8)
    hue-rotate(180deg) /* Cyan shift */
    invert(0.9);
  opacity: 0.98;
}

/* Scrolling Scanlines for CRT Feel */
#map::before {
  content: '';
  position: absolute;
  inset: 0;
  background: repeating-linear-gradient(0deg, transparent, transparent 2px, rgba(0,0,0,0.08) 2px, rgba(0,0,0,0.08) 4px);
  pointer-events: none;
  z-index: 1001;
  opacity: 0.4;
  animation: slow-scan 12s linear infinite;
  border-radius: 16px;
}

@keyframes slow-scan {
  0% { background-position: 0 0; }
  100% { background-position: 0 4px; }
}

/* Subtle Grid */
#mapWrap::after {
  content: '';
  position: absolute;
  inset: 0;
  background: linear-gradient(90deg, rgba(0,255,65,0.04) 1px, transparent 1px),
              linear-gradient(0deg, rgba(0,255,65,0.04) 1px, transparent 1px);
  background-size: 50px 50px;
  pointer-events: none;
  z-index: 1002;
  opacity: 0.25;
  border-radius: 16px;
}

/* Static Noise Flicker (add <div class="static-noise"></div> in #mapWrap if missing) */
.static-noise {
  position: absolute;
  inset: 0;
  background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100"><filter id="n"><feTurbulence type="fractalNoise" baseFrequency="0.8" numOctaves="5"/><feColorMatrix values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"/></filter><rect width="100" height="100" filter="url(#n)" opacity="0.2"/></svg>') repeat;
  pointer-events: none;
  z-index: 1003;
  opacity: 0.25;
  animation: noise-flicker 0.15s steps(6) infinite;
  border-radius: 16px;
}

@keyframes noise-flicker {
  0% { opacity: 0.22; }
  100% { opacity: 0.28; }
}

@keyframes gentle-glow {
  0% { box-shadow: inset 0 0 80px #003300, 0 0 60px rgba(0,255,65,0.4); }
  100% { box-shadow: inset 0 0 100px #004400, 0 0 90px rgba(0,255,65,0.6); }
}

/* Rounded Screen */
.leaflet-container {
  border-radius: 16px;
  overflow: hidden;
}
